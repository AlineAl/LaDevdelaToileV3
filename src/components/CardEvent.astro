---
interface Props {
    title: string;
    description: string;
    events: {
        path: string;
    }[];
}

const { title, description, events } = Astro.props

function getBasePath(path: string): string {
    const segments = path.split('/');
    const eventsIndex = segments.indexOf('events');
    if (eventsIndex !== -1) {
        return segments.slice(0, eventsIndex + 1).join('/');
    }
    return path;
}

---

<a href={getBasePath(events[0].path)}>
    <astro-card class="min-h-full flex flex-col items-center gap-4 border border-default bg-offset p-6 transition duration-300 ease-in-out hover:cursor-pointer hover:text-white hover:bg-sky-700">
        <p class="text-center font-extrabold text-xl">
            { title }
        </p>
        <p class="text-center text-offset text-sm">
            { description }
        </p>
    </astro-card>
</a>